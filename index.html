<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paternoster Lodge</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
    <!--<script async src="https://maps.googleapis.com/maps/api/js?key=YOUR_ACTUAL_API_KEY&libraries=places&callback=initMap"></script>-->
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Open+Sans:wght@300;400;600&display=stylesheet">
    <script>
        tailwind.config = {
          theme: {
            extend: {
              colors: {
                primary: '#1b3c59',
                secondary: '#d4af37',
                light: '#f5f5f5',
              },
            },
          },
        };
    </script>
    <link rel="stylesheet" href="https://unpkg.com/aos@2.3.4/dist/aos.css" />
    <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>

    <!-- Supabase script with fallback -->
    <script src="https://unpkg.com/@supabase/supabase-js@2/dist/umd/supabase.umd.js" onerror="console.error('Failed to load Supabase script from unpkg'); fallbackSupabaseScript()"></script>

    <style>
        .carousel {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }
        .carousel-item {
            min-width: 100%;
            box-sizing: border-box;
            background-size: contain;
            background-position: center;
            background-repeat: no-repeat;
            background-color: #e5e7eb;
        }
        .review-container {
            max-height: 60px;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        .review-container.expanded {
            max-height: 120px;
        }
        .review-slide {
            display: none;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        .review-slide.active {
            display: block;
            opacity: 1;
        }
        .review-dot {
            width: 8px;
            height: 8px;
            background: #ccc;
            border-radius: 50%;
            cursor: pointer;
            transition: background 0.3s ease, transform 0.3s ease;
        }
        .review-dot.active {
            background: #d4af37;
            transform: scale(1.2);
        }
        .review-dot:hover {
            background: #e5c07b;
        }
        .testimonials {
            background: linear-gradient(180deg, #f5f5f5 0%, #e8ecef 100%);
            display: block !important;
            min-height: 200px;
        }
        .review-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .review-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
        }
        .star-label {
            transition: transform 0.2s ease, color 0.2s ease;
            cursor: pointer;
        }
        .star-label:hover {
            transform: scale(1.2);
            color: #d4af37 !important;
        }
        .star-input:checked + .star-label {
            color: #d4af37 !important;
        }
        .submit-button:hover {
            animation: pulse 1s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        .read-more:hover {
            text-decoration: underline;
        }
        .submission-message {
            display: none;
            margin-top: 1rem;
            padding: 0.75rem;
            border-radius: 0.375rem;
            text-align: center;
            font-size: 0.875rem;
        }
        .submission-message.success {
            display: block;
            background-color: #10b981;
            color: white;
        }
        .submission-message.error {
            display: block;
            background-color: #ef4444;
            color: white;
        }
        .amenities-slider {
            background: linear-gradient(180deg, #f5e8d8 0%, #f5f5f5 100%);
            padding: 2rem 0;
        }
        .amenities-slider .container {
            max-width: 1280px;
            margin: 0 auto;
            position: relative;
        }
        .amenities-slider .slider {
            width: 100%;
            height: 500px;
            position: relative;
            overflow: hidden;
            margin-bottom: 30px;
        }
        .amenities-slider .slide {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0;
            transition: opacity 1s ease-in-out;
        }
        .amenities-slider .slide.active {
            opacity: 1;
            z-index: 1;
        }
        .amenities-slider .slider-controls {
            display: flex;
            justify-content: space-between;
            width: 100%;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            z-index: 10;
            pointer-events: none;
        }
        .amenities-slider .slider-controls button {
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            pointer-events: auto;
            transition: background-color 0.3s ease;
        }
        .amenities-slider .slider-controls button:hover {
            background-color: #d4af37;
        }
        .amenities-slider .info-box {
            position: absolute;
            top: 80px;
            left: 50px;
            background-color: rgba(255, 255, 255, 0.8);
            padding: 30px;
            max-width: 400px;
            z-index: 10;
            transition: all 0.5s ease;
        }
        .amenities-slider .info-box h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: #1b3c59;
            font-family: 'Playfair_Display', serif;
        }
        .amenities-slider .info-box p {
            font-size: 1.1rem;
            line-height: 1.6;
            color: #555;
            font-family: 'Open_Sans', sans-serif;
        }
        .amenities-slider .thumbnails {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        .amenities-slider .thumbnail {
            width: 200px;
            height: 120px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: border-color 0.3s ease;
        }
        .amenities-slider .thumbnail.active {
            border-color: #1b3c59;
        }
        .amenities-slider .thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .grootbos-nav-item {
    width: 150px;
    height: 180px;
    clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%);
    background-size: cover; /* Ensures the image fills the hexagon */
    background-position: center; /* Centers the image within the hexagon */
    display: flex;
    flex-direction: column;
    justify-content: flex-end; /* Aligns text to the bottom */
    align-items: center;
    text-align: center;
    position: relative; /* For text overlay */
}

.grootbos-nav-text {
    background: rgba(0, 0, 0, 0.5); /* Semi-transparent background for readability */
    width: 100%;
    padding: 5px 0;
    font-size: 0.875rem; /* 14px */
    font-weight: 600;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5); /* Shadow for better contrast */
}

@media (max-width: 768px) {
    .grootbos-nav-container {
        flex-direction: column;
        align-items: center;
    }
    .grootbos-nav-item {
        width: 120px;
        height: 140px;
    }
    .grootbos-nav-text {
        font-size: 0.75rem; /* 12px for smaller screens */
    }
}   
    </style>
</head>
<body>
<!-- Header -->
<header>
    <div class="header-container">
        <div class="logo">
            <h1>Paternoster Lodge</h1>
        </div>
        <nav>
            <ul>
                <li><a href="index.html" class="{{indexActive}} active">Home</a></li>
                <li><a href="about.html" class="{{aboutActive}}">About</a></li>
                <li><a href="accommodation.html" class="{{accommodationActive}}">Accommodation</a></li>
                <li><a href="location.html" class="{{locationActive}}">Location</a></li>
                <li><a href="gallery.html" class="{{galleryActive}}">Gallery</a></li>
                <li><a href="restaurant.html" class="{{restaurantActive}}">Restaurant</a></li>
                <li><a href="contact.html" class="{{contactActive}}">Contact</a></li>
                <li><a href="booking.html" class="{{bookingActive}} inline-block bg-primary text-white font-normal text-lg px-6 py-2 rounded-lg hover:bg-secondary transition duration-300">Book Now</a></li>
                <li><a href="register-login.html" class="{{registerLoginActive}} book-btn">Login</a></li>
            </ul>
        </nav>
        <div class="hamburger">
            <div class="line1"></div>
            <div class="line2"></div>
            <div class="line3"></div>
        </div>
    </div>
</header>

<!-- Hero Section with Sliding Pages -->
<section class="hero relative w-full h-[600px] text-white overflow-hidden cursor-pointer" id="carousel-container" aria-label="Pause slideshow">
    <div id="carousel" class="carousel">
        <div class="carousel-item flex items-center justify-center h-[600px]" style="background-image: url('images/PATENOSTA FROMT.PNG');">
            <div class="text-center bg-black bg-opacity-50 p-6 rounded-lg" data-aos="fade-up">
                <h2 class="text-4xl font-bold font-['Playfair_Display']">Welcome to Paternoster</h2>
                <p class="mt-2 text-lg">Experience luxury by the sea</p>
                <h3 class="text-4xl font-bold font-['Playfair_Display']">Paternoster Lodge</h3>
            </div>
        </div>
        <div class="carousel-item flex items-center justify-center h-[600px]" style="background-image: url('images/partneso.PNG');">
            <div class="text-center bg-black bg-opacity-50 p-6 rounded-lg" data-aos="fade-up">
                <h2 class="text-4xl font-bold font-['Playfair_Display']">MAGNIFICENT VIEWS OF THE ATLANTIC OCEAN</h2>
                <p class="mt-2 text-lg">Paternoster Lodge</p>
            </div>
        </div>
        <div class="carousel-item flex items-center justify-center h-[600px]" style="background-image: url('images/New partenosta.PNG');">
            <div class="text-center bg-black bg-opacity-50 p-6 rounded-lg" data-aos="fade-up">
                <a href="booking.html">
                    <h2 class="text-4xl font-bold font-['Playfair_Display'] hover:text-secondary">BEST ROOMS</h2>
                </a>
                <p class="mt-2 text-lg">Paternoster Lodge</p>
            </div>
        </div>
        <div class="carousel-item flex items-center justify-center h-[600px]" style="background-image: url('images/New partenosta.PNG');">
            <div class="text-center bg-black bg-opacity-50 p-6 rounded-lg" data-aos="fade-up">
                <a href="booking.html">
                    <h2 class="text-4xl font-bold font-['Playfair_Display'] hover:text-secondary">SLEEP AND WAKE UP IN A DREAM</h2>
                </a>
                <p class="mt-2 text-lg">Paternoster Lodge</p>
            </div>
        </div>
        <div class="carousel-item flex items-center justify-center h-[600px]" style="background-image: url('images/New partenosta.PNG');">
            <div class="text-center bg-black bg-opacity-50 p-6 rounded-lg" data-aos="fade-up">
                <a href="booking.html">
                    <h2 class="text-4xl font-bold font-['Playfair_Display'] hover:text-secondary"></h2>
                </a>
                <p class="mt-2 text-lg">Paternoster Lodge</p>
            </div>
        </div>
        <div class="carousel-item flex items-center justify-center h-[600px]" style="background-image: url('images/New partenosta.PNG');">
            <div class="text-center bg-black bg-opacity-50 p-6 rounded-lg" data-aos="fade-up">
                <a href="booking.html">
                    <h2 class="text-4xl font-bold font-['Playfair_Display'] hover:text-secondary">MAGICAL PLACE</h2>
                </a>
                <p class="mt-2 text-lg">Paternoster Lodge</p>
            </div>
        </div>
        <div class="carousel-item flex items-center justify-center h-[600px]" style="background-image: url('images/New partenosta.PNG');">
            <div class="text-center bg-black bg-opacity-50 p-6 rounded-lg" data-aos="fade-up">
                <a href="booking.html">
                    <h2 class="text-4xl font-bold font-['Playfair_Display'] hover:text-secondary">EVERYTHING YOU NEED</h2>
                </a>
                <p class="mt-2 text-lg">Paternoster Lodge</p>
            </div>
        </div>
    </div>
    <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2" data-aos="fade-up" data-aos-delay="200">
        <a href="booking.html" class="inline-block bg-primary text-white font-normal text-lg px-6 py-3 rounded-lg border-2 border-secondary hover:bg-secondary hover:text-primary transition duration-300">Book Now</a>
    </div>
</section>

<!-- About Section -->
<section class="about" id="about">
    <div class="section-title fade-in">
        <h2>About Us</h2>
    </div>
    <div class="about-content">
        <div class="about-text fade-in">
            <h5>Paternoster Lodge</h5>
            <h3>Coastal Comfort and Ocean Views</h3>
            <p>Escape to the tranquil beauty of Paternoster Lodge, where West Coast accommodation meets modern comfort.</p>
        </div>
        <div class="about-image fade-in">
            <img src="images/pate table view.PNG" alt="Outdoor dining table set for guests on a patio at Paternoster Lodge with wooden chairs arranged around the table overlooking the ocean. The scene is surrounded by lush coastal plants and bathed in bright natural light, creating a welcoming and tranquil atmosphere. The wider environment features open sky and a sense of relaxation by the sea.">
        </div>
    </div>
</section>

<!-- Accommodation Section -->
<section class="accommodation" id="accommodation">
    <div class="section-title fade-in">
        <h2>Our Accommodation</h2>
        <h5>Paternoster Lodge</h5>
    </div>
    <div class="about-text fade-in">
        <p>In our cozy retreat, each en-suite room at Paternoster Lodge is a haven of coastal tranquility. Nestled by the Atlantic Ocean, our West Coast accommodations offer a perfect blend of comfort and scenic beauty. Wake up to breathtaking ocean views and indulge in the serene ambiance that defines our lodge.</p>
    </div>
    <div class="rooms-container">
        <!-- Room 1 -->
        <div class="room-card fade-in">
            <div class="room-img" style="background-image: url('images/OCIEAN VIEW SUITE.PNG')"></div>
            <div class="room-details">
                <h3>Ocean View Suite</h3>
                <p>Luxurious suite with panoramic views of the ocean, offering ultimate comfort and relaxation.</p>
                <div class="room-features">
                    <span><i class="fas fa-user"></i> 2 Guests</span>
                    <span><i class="fas fa-bed"></i> King Bed</span>
                    <span><i class="fas fa-bath"></i> En-suite</span>
                </div>
                <div class="room-price">
                    From R 1600 per night
                </div>
                <a href="accommodation.html" class="inline-block bg-primary text-white font-normal text-lg px-6 py-3 rounded-lg hover:bg-secondary transition duration-300">View accommodation</a>
            </div>
        </div>

        <!-- Room 2 -->
        <div class="room-card fade-in">
            <div class="room-img" style="background-image: url('images/COTTAGE NEW.PNG')"></div>
            <div class="room-details">
                <h3>Family Cottage</h3>
                <p>Spacious cottage perfect for families, featuring a private patio and comfortable living areas.</p>
                <div class="room-features">
                    <span><i class="fas fa-user"></i> 4 Guests</span>
                    <span><i class="fas fa-bed"></i> 2 Bedrooms</span>
                    <span><i class="fas fa-bath"></i> 2 Bathrooms</span>
                </div>
                <div class="room-price">
                    From R 1000 per night
                </div>
                <a href="accommodation.html" class="inline-block bg-primary text-white font-normal text-lg px-6 py-3 rounded-lg hover:bg-secondary transition duration-300">View accommodation</a>
            </div>
        </div>

        <!-- Room 3 -->
        <div class="room-card fade-in">
            <div class="room-img" style="background-image: url('images/DELUX NEW.PNG')"></div>
            <div class="room-details">
                <h3>Deluxe Room</h3>
                <p>Elegant and cozy room with modern amenities and a sophisticated coastal-inspired design.</p>
                <div class="room-features">
                    <span><i class="fas fa-user"></i> 2 Guests</span>
                    <span><i class="fas fa-bed"></i> Queen Bed</span>
                    <span><i class="fas fa-bath"></i> En-suite</span>
                </div>
                <div class="room-price">
                    From R 1400 per night
                </div>
                <a href="accommodation.html" class="inline-block bg-primary text-white font-normal text-lg px-6 py-3 rounded-lg hover:bg-secondary transition duration-300">View accommodation</a>
            </div>
        </div>
    </div>
</section>

<!-- Room Modals -->
<div class="room-modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="oceanview-modal">
    <div class="modal-content bg-white p-8 rounded-lg max-w-lg w-full">
        <span class="close-room-modal text-2xl cursor-pointer float-right" onclick="closeRoomModal('oceanview')">×</span>
        <h2 class="text-3xl font-bold text-primary mb-4">Ocean View Suite</h2>
        <div class="modal-img" style="background-image: url('images/OCIEAN VIEW SUITE.PNG'); height: 200px; background-size: cover; background-position: center; border-radius: 10px; margin-bottom: 1rem;"></div>
        <p class="text-[#555] mb-4">Luxurious suite with panoramic views of the ocean, offering ultimate comfort and relaxation. Enjoy a spacious room with modern amenities and direct access to stunning sea vistas.</p>
        <div class="room-features mb-4">
            <span><i class="fas fa-user"></i> 2 Guests</span>
            <span><i class="fas fa-bed"></i> King Bed</span>
            <span><i class="fas fa-bath"></i> En-suite</span>
        </div>
        <div class="room-price text-secondary font-semibold mb-4">From R 1600 per night</div>
        <a href="booking.html?room=oceanview" class="inline-block bg-primary text-white font-normal text-lg px-6 py-3 rounded-lg hover:bg-secondary transition duration-300">Book Now</a>
    </div>
</div>

<div class="room-modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="family-modal">
    <div class="modal-content bg-white p-8 rounded-lg max-w-lg w-full">
        <span class="close-room-modal text-2xl cursor-pointer float-right" onclick="closeRoomModal('family')">×</span>
        <h2 class="text-3xl font-bold text-primary mb-4">Family Cottage</h2>
        <div class="modal-img" style="background-image: url('images/COTTAGE NEW.PNG'); height: 200px; background-size: cover; background-position: center; border-radius: 10px; margin-bottom: 1rem;"></div>
        <p class="text-[#555] mb-4">Spacious cottage perfect for families, featuring a private patio and comfortable living areas. Ideal for a relaxing getaway with loved ones.</p>
        <div class="room-features mb-4">
            <span><i class="fas fa-user"></i> 4 Guests</span>
            <span><i class="fas fa-bed"></i> 2 Bedrooms</span>
            <span><i class="fas fa-bath"></i> 2 Bathrooms</span>
        </div>
        <div class="room-price text-secondary font-semibold mb-4">From R 1000 per night</div>
        <a href="booking.html?room=family" class="inline-block bg-primary text-white font-normal text-lg px-6 py-3 rounded-lg hover:bg-secondary transition duration-300">Book Now</a>
    </div>
</div>

<div class="room-modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden" id="deluxe-modal">
    <div class="modal-content bg-white p-8 rounded-lg max-w-lg w-full">
        <span class="close-room-modal text-2xl cursor-pointer float-right" onclick="closeRoomModal('deluxe')">×</span>
        <h2 class="text-3xl font-bold text-primary mb-4">Deluxe Room</h2>
        <div class="modal-img" style="background-image: url('images/DELUX NEW.PNG'); height: 200px; background-size: cover; background-position: center; border-radius: 10px; margin-bottom: 1rem;"></div>
        <p class="text-[#555] mb-4">Elegant and cozy room with modern amenities and a sophisticated coastal-inspired design. Perfect for a romantic or relaxing escape.</p>
        <div class="room-features mb-4">
            <span><i class="fas fa-user"></i> 2 Guests</span>
            <span><i class="fas fa-bed"></i> Queen Bed</span>
            <span><i class="fas fa-bath"></i> En-suite</span>
        </div>
        <div class="room-price text-secondary font-semibold mb-4">From R 1400 per night</div>
        <a href="booking.html?room=deluxe" class="inline-block bg-primary text-white font-normal text-lg px-6 py-3 rounded-lg hover:bg-secondary transition duration-300">Book Now</a>
    </div>
</div>

<!-- Amenities Slider Section -->
<section class="amenities-slider" data-aos="fade-up">
    <div class="container">
        <div class="slider">
            <div class="slide active" data-index="0">
                <img src="images/20210502_085438-2048x1536.jpg" alt="Villa Interior" style="width:100%;height:100%;object-fit:cover;">
            </div>
            <div class="slide" data-index="1">
                <img src="images/20210502_091213-2048x1536.jpg" alt="Outdoor Terrace" style="width:100%;height:100%;object-fit:cover;">
            </div>
            <div class="slide" data-index="2">
                <img src="images/20220626_113917-2048x946.jpg" alt="Swimming Pool" style="width:100%;height:100%;object-fit:cover;">
            </div>
            <div class="slide" data-index="3">
                <img src="images/14736_5_3_4_tv-and-multimedia-2048x1152.jpg" alt="Bedroom" style="width:100%;height:100%;object-fit:cover;">
            </div>

            <div class="slider-controls">
                <button class="prev-btn">❮</button>
                <button class="next-btn">❯</button>
            </div>
        </div>

        <div class="info-box">
            <h1>TOP-CLASS AMENITIES</h1>
            <p id="slide-description">Luxury amenities offer every pleasure and convenience. The villa is at once state-of-the-art and discreetly in harmony with your natural surroundings.</p>
        </div>

        <div class="thumbnails">
            <div class="thumbnail active" data-index="0">
                <img src="images/20210502_085438-2048x1536.jpg" alt="Living Room">
            </div>
            <div class="thumbnail" data-index="1">
                <img src="images/20210502_091213-2048x1536.jpg" alt="Outdoor Terrace">
            </div>
            <div class="thumbnail" data-index="2">
                <img src="images/20220626_113917-2048x946.jpg" alt="Swimming Pool">
            </div>
            <div class="thumbnail" data-index="3">
                <img src="images/14736_5_3_4_tv-and-multimedia-2048x1152.jpg" alt="Bedroom">
            </div>
        </div>
    </div>
</section>

<!-- Tripadvisor-Style Review Section -->
<section class="testimonials py-8 bg-light text-center">
    <div class="section-title fade-in" data-aos="fade-up">
        <h2 class="text-2xl font-['Playfair_Display'] text-primary">Guest Reviews</h2>
    </div>
    <!-- Review Submission Form -->
    <div class="max-w-2xl mx-auto mb-6" data-aos="fade-up" data-aos-delay="100">
        <div class="bg-white p-4 rounded-lg shadow-sm">
            <h3 class="text-lg font-bold text-primary mb-3 font-['Playfair_Display']">Share Your Experience</h3>
            <form id="review-form" class="space-y-3">
                <input type="text" id="review-name" placeholder="Your Name" required class="w-full p-2 text-sm border rounded-md focus:ring-2 focus:ring-secondary focus:outline-none">
                <div class="flex justify-center">
                    <div class="flex items-center">
                        <input type="radio" id="star1" name="rating" value="1" required class="hidden star-input">
                        <label for="star1" class="star-label cursor-pointer text-xl text-gray-300 hover:text-secondary">★</label>
                        <input type="radio" id="star2" name="rating" value="2" class="hidden star-input">
                        <label for="star2" class="star-label cursor-pointer text-xl text-gray-300 hover:text-secondary">★</label>
                        <input type="radio" id="star3" name="rating" value="3" class="hidden star-input">
                        <label for="star3" class="star-label cursor-pointer text-xl text-gray-300 hover:text-secondary">★</label>
                        <input type="radio" id="star4" name="rating" value="4" class="hidden star-input">
                        <label for="star4" class="star-label cursor-pointer text-xl text-gray-300 hover:text-secondary">★</label>
                        <input type="radio" id="star5" name="rating" value="5" class="hidden star-input">
                        <label for="star5" class="star-label cursor-pointer text-xl text-gray-300 hover:text-secondary">★</label>
                    </div>
                </div>
                <textarea id="review-text" placeholder="Your Review" required class="w-full p-2 text-sm border rounded-md h-16 focus:ring-2 focus:ring-secondary focus:outline-none"></textarea>
                <button type="submit" class="submit-button w-full bg-primary text-white font-normal text-sm p-2 rounded-md hover:bg-secondary transition duration-300">Submit Review</button>
                <div id="submission-message" class="submission-message"></div>
            </form>
        </div>
    </div>
    <!-- Review Slider with Fallback -->
    <div class="max-w-2xl mx-auto" data-aos="fade-up" data-aos-delay="200">
        <div id="review-slider">
            <p class="text-gray-500 text-sm">Loading reviews...</p>
        </div>
        <div id="review-dots" class="flex justify-center gap-2 mt-3"></div>
    </div>
</section>

<!-- <!-- Location Section --
<section class="location" id="location">
    <div class="section-title fade-in">
        <h2>Our Location</h2>
    </div>
    <div class="location-content">
        <div class="map-container" data-aos="fade-up" data-aos-delay="100">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3353.3456021342695!2d17.885458483924307!3d-32.809606697022645!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1c34984e92ce5db9%3A0xdf1e528d78a4ed3!2sPaternoster%20Lodge!5e0!3m2!1sen!2sza!4v1747402533777!5m2!1sen!2sza" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
        <div class="location-info fade-in">
            <p>Paternoster Lodge is situated in a picturesque fishing village, just a 2-hour drive from the nearest international airport. Our location offers the perfect balance of seclusion and accessibility.</p>
            <p>The area is known for its pristine beaches, rich marine life, and colorful local culture. Within walking distance, you'll find charming restaurants, art galleries, and opportunities to experience authentic coastal life.</p>
            <div class="contact-details">
                <div class="contact-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <p>64 St Augustine Rd, Kliprug, Paternoster, 7381</p>
                </div>
                <div class="contact-item">
                    <i class="fas fa-phone"></i>
                    <p>+2722 880 0970</p>
                </div>
                <div class="contact-item">
                    <i class="fas fa-envelope"></i>
                    <p>info@paternosterlodge.co.za</p>
                </div>
            </div>
        </div>
    </div>
</section> -->

<!-- Grootbos Private Villas Navigation Section -->
<section class="grootbos-nav py-8 bg-light text-center">
    <div class="section-title fade-in" data-aos="fade-up">
        <h2 class="text-2xl font-['Playfair_Display'] text-primary">EXPLORE THE GROOTBOS PRIVATE VILLAS</h2>
        <p class="mt-2 text-sm text-gray-600">Explore the site for a taste of what Grootbos Villas has to offer</p>
    </div>
    <div class="grootbos-nav-container flex justify-center gap-4 mt-6 flex-wrap" data-aos="fade-up" data-aos-delay="100">
        <a href="#home" class="grootbos-nav-item text-white text-center hover:brightness-110 transition duration-300" style="background-image: url('images/14736_2_0_2_photo-of-the-whole-room-2048x1152.jpg');">
            <span class="grootbos-nav-text">HOME</span>
        </a>
        <a href="#about" class="grootbos-nav-item text-white text-center hover:brightness-110 transition duration-300" style="background-image: url('images/20220628_142200-2048x946.jpg');">
            <span class="grootbos-nav-text">FYNBOS VILLA</span>
        </a>
        <a href="#accommodation" class="grootbos-nav-item text-white text-center hover:brightness-110 transition duration-300" style="background-image: url('images/14736_0_4_16_dining-area-2048x709.jpg');">
            <span class="grootbos-nav-text">SUNBIRD VILLA</span>
        </a>
        <a href="#amenities" class="grootbos-nav-item text-white text-center hover:brightness-110 transition duration-300" style="background-image: url('images/14736_5_3_3_seating-area-2048x1152.jpg');">
            <span class="grootbos-nav-text">EXPERIENCES</span>
        </a>
        <a href="#restaurant" class="grootbos-nav-item text-white text-center hover:brightness-110 transition duration-300" style="background-image: url('images/14736_5_3_4_tv-and-multimedia-2048x1152.jpg');">
            <span class="grootbos-nav-text">CULINARY & WINE</span>
        </a>
        <a href="#booking" class="grootbos-nav-item text-white text-center hover:brightness-110 transition duration-300" style="background-image: url('images/14736_4_2_1_bed-2048x709.jpg');">
            <span class="grootbos-nav-text">RATES</span>
        </a>
    </div>
</section>

<!-- Footer -->
<footer id="contact">
    <div class="footer-content">
        <div class="footer-column footer-about">
            <h3>Paternoster Lodge</h3>
            <p>A luxury seaside accommodation offering unforgettable experiences in a breathtaking coastal setting.</p>
            <div class="social-icons">
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-tripadvisor"></i></a>
            </div>
        </div>
        <div class="footer-column footer-links">
            <h3>Quick Links</h3>
            <ul>
                <li><a href="#home">Home</a></li>
                <li><a href="about.html">About Us</a></li>
                <li><a href="accommodation.html">Rooms & Suites</a></li>
                <li><a href="location.html">Location</a></li>
                <li><a href="gallery.html">Gallery</a></li>
                <li><a href="booking.html">Book Now</a></li>
            </ul>
        </div>
        <div class="footer-column footer-contact">
            <h3>Contact Us</h3>
            <p><i class="fas fa-map-marker-alt"></i> 64 St Augustine Rd, Kliprug, Paternoster, 7381</p>
            <p><i class="fas fa-phone"></i> +2722 880 0970</p>
            <p><i class="fas fa-envelope"></i> info@paternosterlodge.co.za</p>
            <p><i class="fas fa-clock"></i> Reception: 07:00 - 22:00</p>
        </div>
        <div class="footer-column footer-subscribe">
            <h3>Newsletter</h3>
            <p>Subscribe to our newsletter for special offers and updates.</p>
            <form>
                <input type="email" placeholder="Your Email Address">
                <button type="submit">Subscribe</button>
            </form>
        </div>
    </div>
    <div class="footer-bottom">
        <p>© 2025 Paternoster Lodge. All Rights Reserved. | Designed by Syntax Syndicate</p>
    </div>
</footer>

<!-- Booking Modal -->
<div class="booking-modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
    <div class="modal-content bg-white p-8 rounded-lg max-w-md w-full">
        <span class="close-modal text-2xl cursor-pointer float-right">×</span>
        <h2 class="text-3xl font-bold text-primary mb-6">Book Your Stay</h2>
        <form class="space-y-4">
            <input type="date" id="check-in" required class="w-full p-2 border rounded-md">
            <input type="date" id="check-out" required class="w-full p-2 border rounded-md">
            <input type="number" id="nights" min="1" readonly class="w-full p-2 border rounded-md" placeholder="Nights">
            <select required class="w-full p-2 border rounded-md">
                <option value="">Select Room Type</option>
                <option value="oceanview">Ocean View Suite</option>
                <option value="family">Family Cottage</option>
                <option value="deluxe">Deluxe Room</option>
                <option value="premium">Premium Suite</option>
            </select>
            <button type="submit" class="w-full bg-primary text-white font-normal text-lg p-2 rounded-md hover:bg-secondary transition duration-300">Submit Booking</button>
        </form>
    </div>
</div>

<!-- JavaScript -->
 <!-- Fallback script for Supabase, defined first to avoid timing issues -->
    <script>
        function fallbackSupabaseScript() {
            console.log('Attempting to load Supabase script from jsDelivr as fallback...');
            const fallbackScript = document.createElement('script');
            fallbackScript.src = 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.umd.js';
            fallbackScript.onerror = () => {
                console.error('Both Supabase script sources failed to load. Please check your network or host the script locally.');
                const slider = document.getElementById('review-slider');
                if (slider) {
                    slider.innerHTML = '<p class="text-gray-500 text-sm">Failed to load review system. Please try again later.</p>';
                }
            };
            fallbackScript.onload = () => console.log('Supabase script loaded successfully from jsDelivr');
            document.head.appendChild(fallbackScript);
        }
    </script>
    
<script>
    // Google Maps initialization
    function initMap() {
        if (!window.google) {
            console.error('Google Maps API failed to load. Please ensure a valid API key is provided.');
            const mapContainer = document.querySelector('.map-container');
            if (mapContainer) {
                mapContainer.innerHTML = '<p class="text-gray-500 text-sm">Unable to load map. Please try again later.</p>';
            }
            return;
        }
        console.log('Google Maps initialized with API key');
    }

     // Initialize Supabase client
    let supabase;
    try {
        setTimeout(() => {
            if (typeof createClient === 'function') {
                const supabaseUrl = 'https://fdpcmuwwbalwofxydsds.supabase.co';
                const supabaseAnonKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZkcGNtdXd3YmFsd29meHlkc2RzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwNTA3OTUsImV4cCI6MjA2MjYyNjc5NX0.FmvbrFqPepMcxJbY6eGLeS7oMIfDzXnMPAjdF-8MWGY';
                supabase = createClient(supabaseUrl, supabaseAnonKey);
                console.log('Supabase client initialized successfully');
                fetchReviews();
            } else {
                console.error('createClient is not defined after script load');
                const slider = document.getElementById('review-slider');
                if (slider) {
                    slider.innerHTML = '<p class="text-gray-500 text-sm">Failed to load review system. Please try again later.</p>';
                }
            }
        }, 100);
    } catch (error) {
        console.error('Failed to initialize Supabase client:', error);
        const slider = document.getElementById('review-slider');
        if (slider) {
            slider.innerHTML = '<p class="text-gray-500 text-sm">Failed to load review system. Please try again later.</p>';
        }
    }

    // Initialize AOS
    AOS.init({
        duration: 1000,
        once: true,
    });

    // Hero Carousel Logic
    const carousel = document.getElementById('carousel');
    const carouselContainer = document.getElementById('carousel-container');
    let currentIndex = 0;
    let isPaused = false;
    let slideInterval = setInterval(nextSlide, 5000);

    function slideTo(index) {
        carousel.style.transform = `translateX(-${index * 100}%)`;
        currentIndex = index;
    }

    function nextSlide() {
        if (!isPaused) {
            if (currentIndex < 6) slideTo(currentIndex + 1);
            else slideTo(0);
        }
    }

    carouselContainer.addEventListener('click', (e) => {
        if (e.target.closest('a')) return;
        isPaused = !isPaused;
        carouselContainer.setAttribute('aria-label', isPaused ? 'Play slideshow' : 'Pause slideshow');
    });

    // Review Slider Logic
    let currentReviewIndex = 0;
    let reviewInterval;

    function showReviewSlide(index, slides, dots) {
        slides.forEach(slide => slide.classList.remove('active'));
        dots.forEach(dot => dot.classList.remove('active'));
        slides[index].classList.add('active');
        dots[index].classList.add('active');
        currentReviewIndex = index;
    }

    function nextReviewSlide() {
        const slides = document.querySelectorAll('.review-slide');
        const dots = document.querySelectorAll('.review-dot');
        if (slides.length === 0) return;
        currentReviewIndex = (currentReviewIndex + 1) % slides.length;
        showReviewSlide(currentReviewIndex, slides, dots);
    }

    function setupReviewSlider() {
        const slides = document.querySelectorAll('.review-slide');
        const dotsContainer = document.getElementById('review-dots');
        if (slides.length === 0) return;
        dotsContainer.innerHTML = '';
        slides.forEach((_, i) => {
            const dot = document.createElement('span');
            dot.classList.add('review-dot');
            dot.setAttribute('data-slide', i);
            if (i === 0) dot.classList.add('active');
            dotsContainer.appendChild(dot);
        });
        const dots = document.querySelectorAll('.review-dot');
        dots.forEach(dot => {
            dot.addEventListener('click', () => {
                clearInterval(reviewInterval);
                const slideIndex = parseInt(dot.getAttribute('data-slide'));
                showReviewSlide(slideIndex, slides, dots);
                reviewInterval = setInterval(nextReviewSlide, 7000);
            });
        });
        clearInterval(reviewInterval);
        reviewInterval = setInterval(nextReviewSlide, 7000);
    }

    function setupReadMore() {
        document.querySelectorAll('.read-more').forEach(button => {
            button.addEventListener('click', () => {
                const container = button.previousElementSibling;
                if (container.classList.contains('expanded')) {
                    container.classList.remove('expanded');
                    button.textContent = 'Read more';
                } else {
                    container.classList.add('expanded');
                    button.textContent = 'Hide';
                }
            });
        });
    }

    // Fetch Reviews from Supabase
    async function fetchReviews() {
        const slider = document.getElementById('review-slider');
        if (!supabase) {
            slider.innerHTML = '<p class="text-gray-500 text-sm">Unable to connect to the review system.</p>';
            return;
        }

        try {
            const { data: reviews, error } = await supabase
                .from('reviews')
                .select('*')
                .order('created_at', { ascending: false });

            if (error) {
                console.error('Error fetching reviews:', error.message);
                slider.innerHTML = '<p class="text-gray-500 text-sm">Error loading reviews. Please try again later.</p>';
                return;
            }

            slider.innerHTML = '';
            if (reviews.length === 0) {
                slider.innerHTML = '<p class="text-gray-500 text-sm">No reviews yet. Be the first to share your experience!</p>';
                return;
            }

            reviews.forEach((review, index) => {
                const slide = document.createElement('div');
                slide.classList.add('review-slide');
                if (index === 0) slide.classList.add('active');
                const stars = Array(5).fill().map((_, i) => 
                    `<img src="https://cdn.trustindex.io/assets/platform/Tripadvisor/star/${i < review.rating ? 'f' : 'e'}.svg" alt="Star" class="w-3 h-3">`
                ).join('');
                slide.innerHTML = `
                    <div class="review-card bg-white p-4 rounded-lg shadow-sm">
                        <div class="flex items-start">
                            <img src="https://cdn.trustindex.io/assets/platform/Tripadvisor/icon.svg" alt="Tripadvisor" class="w-4 h-4 mr-2 mt-1">
                            <div class="flex items-center">
                                <img src="https://media-cdn.tripadvisor.com/media/photo-o/1a/f6/e8/5b/default-avatar-2020-61.jpg" alt="${review.name}" class="w-8 h-8 rounded-full mr-2">
                                <div>
                                    <div class="font-bold text-primary text-sm">${review.name}</div>
                                    <div class="text-xs text-gray-500">${new Date(review.created_at).toLocaleDateString()}</div>
                                </div>
                            </div>
                        </div>
                        <div class="flex mt-2">${stars}</div>
                        <div class="review-container mt-2 text-gray-700 text-sm font-['Open_Sans']">
                            <strong>${review.review.slice(0, 20)}...</strong><br>
                            ${review.review}
                        </div>
                        <span class="read-more text-secondary cursor-pointer mt-2 inline-block text-xs font-['Open_Sans']" role="button">Read more</span>
                    </div>
                `;
                slider.appendChild(slide);
            });

            setupReviewSlider();
            setupReadMore();
        } catch (error) {
            console.error('Unexpected error fetching reviews:', error);
            slider.innerHTML = '<p class="text-gray-500 text-sm">Unable to load reviews at this time.</p>';
        }
    }

    // Submit Review to Supabase
    document.getElementById('review-form').addEventListener('submit', async (e) => {
        e.preventDefault();
        const messageDiv = document.getElementById('submission-message');
        const name = document.getElementById('review-name').value;
        const rating = document.querySelector('input[name="rating"]:checked')?.value;
        const review = document.getElementById('review-text').value;

        if (!name || !rating || !review) {
            messageDiv.textContent = 'Please fill in all fields.';
            messageDiv.className = 'submission-message error';
            setTimeout(() => { messageDiv.className = 'submission-message'; messageDiv.textContent = ''; }, 5000);
            return;
        }

        if (!supabase) {
            messageDiv.textContent = 'Cannot submit review: Database connection failed.';
            messageDiv.className = 'submission-message error';
            setTimeout(() => { messageDiv.className = 'submission-message'; messageDiv.textContent = ''; }, 5000);
            return;
        }

        try {
            const { error } = await supabase
                .from('reviews')
                .insert([{ name, rating: parseInt(rating), review }]);

            if (error) {
                console.error('Error submitting review:', error.message);
                messageDiv.textContent = 'Error submitting review. Please try again.';
                messageDiv.className = 'submission-message error';
                setTimeout(() => { messageDiv.className = 'submission-message'; messageDiv.textContent = ''; }, 5000);
                return;
            }

            messageDiv.textContent = 'Review submitted successfully!';
            messageDiv.className = 'submission-message success';
            setTimeout(() => { messageDiv.className = 'submission-message'; messageDiv.textContent = ''; }, 5000);

            document.getElementById('review-form').reset();
            document.querySelectorAll('.star-label').forEach(label => label.style.color = '#d1d5db');
            fetchReviews();
        } catch (error) {
            console.error('Unexpected error submitting review:', error);
            messageDiv.textContent = 'Failed to submit review. Please try again later.';
            messageDiv.className = 'submission-message error';
            setTimeout(() => { messageDiv.className = 'submission-message'; messageDiv.textContent = ''; }, 5000);
        }
    });

    document.querySelectorAll('.star-input').forEach(star => {
        star.addEventListener('change', () => {
            const value = parseInt(star.value);
            document.querySelectorAll('.star-label').forEach((label, index) => {
                label.style.color = index < value ? '#d4af37' : '#d1d5db';
            });
        });
    });

    // Amenities Slider Logic
    function initAmenitiesSlider() {
        console.log('Initializing Amenities Slider...');
        const slides = document.querySelectorAll('.amenities-slider .slide');
        const thumbnails = document.querySelectorAll('.amenities-slider .thumbnail');
        const prevBtn = document.querySelector('.amenities-slider .prev-btn');
        const nextBtn = document.querySelector('.amenities-slider .next-btn');
        const slideDesc = document.getElementById('slide-description');

        if (!slides.length || !thumbnails.length || !prevBtn || !nextBtn || !slideDesc) {
            console.error('One or more slider elements not found. Aborting initialization.');
            return;
        }

        const slideContent = [
            "Luxury amenities offer every pleasure and convenience. The villa is at once state-of-the-art and discreetly in harmony with your natural surroundings.",
            "Experience the perfect blend of indoor and outdoor living with expansive glass walls that frame breathtaking ocean views.",
            "Cool off in the infinity pool with panoramic views that stretch to the horizon. Perfect for relaxing or entertaining guests.",
            "Elegantly appointed bedroom spaces feature premium linens and thoughtful design elements that ensure ultimate comfort."
        ];

        let currentAmenityIndex = 0;

        function updateAmenitySlide(index) {
            slides.forEach(slide => slide.classList.remove('active'));
            thumbnails.forEach(thumbnail => thumbnail.classList.remove('active'));
            slides[index].classList.add('active');
            thumbnails[index].classList.add('active');
            slideDesc.textContent = slideContent[index];
            currentAmenityIndex = index;
        }

        thumbnails.forEach((thumbnail, idx) => {
            thumbnail.addEventListener('click', () => updateAmenitySlide(idx));
        });

        prevBtn.addEventListener('click', () => {
            let newIndex = (currentAmenityIndex - 1 + slides.length) % slides.length;
            updateAmenitySlide(newIndex);
        });

        nextBtn.addEventListener('click', () => {
            let newIndex = (currentAmenityIndex + 1) % slides.length;
            updateAmenitySlide(newIndex);
        });

        updateAmenitySlide(0);
    }

   

    // Run the slider initialization and fetch reviews after the DOM is loaded
    document.addEventListener('DOMContentLoaded', () => {
        try {
            initAmenitiesSlider();
            fetchReviews();
        } catch (error) {
            console.error('Error during initialization:', error);
            const slider = document.getElementById('review-slider');
            if (slider) {
                slider.innerHTML = '<p class="text-gray-500 text-sm">Failed to load reviews due to an initialization error.</p>';
            }
        }
    });/////////

    // Room Modal Handlers
    function closeRoomModal(roomId) {
        document.getElementById(`${roomId}-modal`).classList.add('hidden');
    }

    document.querySelectorAll('.room-card').forEach(card => {
        card.addEventListener('click', () => {
            const roomId = card.querySelector('h3').textContent.toLowerCase().replace(' ', '-');
            document.getElementById(`${roomId}-modal`).classList.remove('hidden');
        });
    });

    document.querySelectorAll('.close-room-modal, .close-modal').forEach(closeBtn => {
        closeBtn.addEventListener('click', () => {
            closeBtn.closest('.room-modal, .booking-modal').classList.add('hidden');
        });
    });

    // Booking Modal Night Calculation
    const checkIn = document.getElementById('check-in');
    const checkOut = document.getElementById('check-out');
    const nights = document.getElementById('nights');

    checkIn.addEventListener('change', calculateNights);
    checkOut.addEventListener('change', calculateNights);

    function calculateNights() {
        if (checkIn.value && checkOut.value) {
            const checkInDate = new Date(checkIn.value);
            const checkOutDate = new Date(checkOut.value);
            const diffTime = Math.abs(checkOutDate - checkInDate);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            nights.value = diffDays;
        } else {
            nights.value = '';
        }
    }
</script>
</body>
</html>